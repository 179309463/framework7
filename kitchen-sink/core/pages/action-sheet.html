<template>
  <div class="page">
    <div class="navbar">
      <div class="navbar-bg"></div>
      <div class="navbar-inner sliding">
        <div class="left">
          <a href="#" class="link back">
            <i class="icon icon-back"></i>
            <span class="if-not-md">返回</span>
          </a>
        </div>
        <div class="title">Action Sheet</div>
      </div>
    </div>
    <div class="page-content">
      <div class="block block-strong">
        <p class="row">
          <a href="#" class="col button button-fill" @click="openDemo11">One group, three buttons</a>
          <a href="#" class="col button button-fill" @click="openDemo12">One group, title, tree buttons</a>
        </p>
        <p class="row">
          <a href="#" class="col button button-fill" @click="openDemo2">Two groups</a>
          <a href="#" class="col button button-fill" @click="openDemo3">Three groups</a>
        </p>
        <p>
          <a href="#" class="button button-fill" @click="openGrid">Action Grid</a>
        </p>
      </div>
      <div class="block-title">Action Sheet To Popover</div>
      <div class="block block-strong">
        <p>Action Sheet can be automatically converted to Popover (for tablets). This button will open Popover on tablets and Action Sheet on phones: <a href="#" style="display:inline-block" class="button button-to-popover button-small" @click="openActionsPopover">Actions</a></p>
      </div>
    </div>
  </div>
</template>
<script>
return {
  methods: {
    openDemo11: function () {
      var self = this;
      self.actions11.open();
    },
    openDemo12: function () {
      var self = this;
      self.actions12.open();
    },
    openDemo2: function () {
      var self = this;
      self.actions2.open();
    },
    openDemo3: function () {
      var self = this;
      self.actions3.open();
    },
    openGrid: function () {
      var self = this;
      self.actionsGrid.open();
    },
    openActionsPopover: function () {
      var self = this;
      self.actionsToPopover.open();
    },
  },
  on: {
    pageBeforeRemove: function() {
      var self = this;
      self.actions11.destroy();
      self.actions12.destroy();
      self.actions2.destroy();
      self.actions3.destroy();
      self.actionsGrid.destroy();
      self.actionsToPopover.destroy();
    },
    pageInit: function(page) {
      var self = this;

      // 1 Group, 3 buttons
      var buttons11 = [
        {
          text: 'Button 1',
          bold: true,
          onClick: function () {
            app.dialog.alert('Button1 clicked')
          }
        },
        {
          text: 'Button 2',
          disabled: true,
          onClick: function () {
            app.dialog.alert('Button2 clicked')
          }
        },
        {
          text: '取消',
          color: 'red',
          onClick: function () {
            app.dialog.alert('Button3 clicked')
          }
        },
      ];

      // 1 Group, title, 3 buttons
      var buttons12 = [
        {
          text: 'Do something',
          label: true
        },
        {
          text: 'Button 1',
          bold: true
        },
        {
          text: 'Button 2',
        },
        {
          text: '取消',
          color: 'red'
        },
      ];

      // 2 Groups
      var buttons2 = [
        // First Group
        [
          {
            text: 'Do something',
            label: true
          },
          {
            text: 'Button 1',
            bold: true
          },
          {
            text: 'Button 2',
          }
        ],
        // Second Group
        [
          {
            text: '取消',
            color: 'red'
          }
        ]
      ]

      // 2 Groups
      var buttons3 = [
        [
          {
            text: 'Share',
            label: true
          },
          {
            text: 'Mail',
          },
          {
            text: 'Messages',
          }
        ],
        [
          {
            text: 'Social share',
            label: true
          },
          {
            text: 'Facebook',
          },
          {
            text: 'Twitter',
          }
        ],
        [
          {
            text: '取消',
            color: 'red'
          }
        ]
      ]

      // Grid buttons with icons/images
      var gridButtons = [
        [
          {
            text: 'Button 1',
            icon: '<img src="https://cdn.framework7.io/placeholder/people-96x96-1.jpg" width="48" style="max-width: 100%"/>'
          },
          {
            text: 'Button 2',
            icon: '<img src="https://cdn.framework7.io/placeholder/people-96x96-2.jpg" width="48" style="max-width: 100%">'
          },
          {
            text: 'Button 3',
            icon: '<img src="https://cdn.framework7.io/placeholder/people-96x96-3.jpg" width="48" style="max-width: 100%">'
          },
        ],
        [
          {
            text: 'Button 1',
            icon: '<img src="https://cdn.framework7.io/placeholder/fashion-96x96-4.jpg" width="48" style="max-width: 100%"/>'
          },
          {
            text: 'Button 2',
            icon: '<img src="https://cdn.framework7.io/placeholder/fashion-96x96-5.jpg" width="48" style="max-width: 100%">'
          },
          {
            text: 'Button 3',
            icon: '<img src="https://cdn.framework7.io/placeholder/fashion-96x96-6.jpg" width="48" style="max-width: 100%">'
          },
        ],
      ]

      self.actions11 = self.$app.actions.create({buttons: buttons11});
      self.actions12 = self.$app.actions.create({buttons: buttons12});
      self.actions2 = self.$app.actions.create({buttons: buttons2});
      self.actions3 = self.$app.actions.create({buttons: buttons3});
      self.actionsGrid = self.$app.actions.create({buttons: gridButtons, grid: true});

      // Actions To Popover
      self.actionsToPopover = self.$app.actions.create({
        buttons: buttons11,
        // Need to specify popover target
        targetEl: self.$el.find('.button-to-popover')
      });
    }
  }
}
</script>
