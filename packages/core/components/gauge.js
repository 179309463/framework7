(function framework7ComponentLoader(e,t){void 0===t&&(t=!0);document,window;var n=e.$,a=(e.Template7,e.utils),o=(e.device,e.support,e.Class),r=(e.Modal,e.ConstructorMethods),i=(e.ModalMethods,function(e){function t(t,o){void 0===o&&(o={}),e.call(this,o,[t]);var r=a.extend({},t.params.gauge);this.useModulesParams(r),this.params=a.extend(r,o);var i=this.params.el;if(!i)return this;var s=n(i);return 0===s.length?this:s[0].f7Gauge?s[0].f7Gauge:(a.extend(this,{app:t,$el:s,el:s&&s[0]}),s[0].f7Gauge=this,this.useModules(),this.init(),this)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.calcRadius=function(){var e=this.params;return e.size/2-e.borderWidth/2},t.prototype.calcBorderLength=function(){var e=this.calcRadius();return 2*Math.PI*e},t.prototype.render=function(){if(this.params.render)return this.params.render.call(this,this);var e=this.params,t=e.type,n=e.value,a=e.size,o=e.bgColor,r=e.borderBgColor,i=e.borderColor,s=e.borderWidth,l=e.closewise,u=e.valueText,d=e.valueTextColor,c=e.valueFontSize,g=e.valueFontWeight,f=e.labelText,h=e.labelTextColor,p=e.labelFontSize,v=e.labelFontWeight,x="semicircle"===t,m=this.calcRadius(),b=this.calcBorderLength(),y=Math.max(Math.min(n,1),0);return('\n      <svg class="gauge-svg" width="'+a+'px" height="'+(x?a/2:a)+'px" viewBox="0 0 '+a+" "+(x?a/2:a)+'">\n        '+(x?'\n          <path\n            class="gauge-back-semi"\n            d="M'+(a-s/2)+","+a/2+" a1,1 0 0,0 -"+(a-s)+',0"\n            stroke="'+r+'"\n            stroke-width="'+s+'"\n            fill="'+(o||"none")+'"\n          />\n          <path\n            class="gauge-front-semi"\n            d="M'+(a-s/2)+","+a/2+" a1,1 0 0,0 -"+(a-s)+',0"\n            stroke="'+i+'"\n            stroke-width="'+s+'"\n            stroke-dasharray="'+b/2+'"\n            stroke-dashoffset="'+b/2*(l?-1:1)*(1+y)+'"\n            fill="'+(r?"none":o||"none")+'"\n          />\n        ':"\n          "+(r?'\n            <circle\n              class="gauge-back-circle"\n              stroke="'+r+'"\n              stroke-width="'+s+'"\n              fill="'+(o||"none")+'"\n              cx="'+a/2+'"\n              cy="'+a/2+'"\n              r="'+m+'"\n            ></circle>\n          ':"")+'\n          <circle\n            class="gauge-front-circle"\n            transform="rotate(-90 '+a/2+" "+a/2+')"\n            stroke="'+i+'"\n            stroke-width="'+s+'"\n            stroke-dasharray="'+b+'"\n            stroke-dashoffset="'+(l?-1:1)*b*(1-y)+'"\n            fill="'+(r?"none":o||"none")+'"\n            cx="'+a/2+'"\n            cy="'+a/2+'"\n            r="'+m+'"\n          ></circle>\n        ')+"\n        "+(u?'\n          <text\n            class="gauge-value-text"\n            x="50%"\n            y="'+(x?"100%":"50%")+'"\n            font-weight="'+g+'"\n            font-size="'+c+'"\n            fill="'+d+'"\n            dy="'+(x?f?-p-15:-5:0)+'"\n            text-anchor="middle"\n            dominant-baseline="'+(!x&&"middle")+'"\n          >'+u+"</text>\n        ":"")+"\n        "+(f?'\n          <text\n            class="gauge-label-text"\n            x="50%"\n            y="'+(x?"100%":"50%")+'"\n            font-weight="'+v+'"\n            font-size="'+p+'"\n            fill="'+h+'"\n            dy="'+(x?-5:u?c/2+10:0)+'"\n            text-anchor="middle"\n            dominant-baseline="'+(!x&&"middle")+'"\n          >'+f+"</text>\n        ":"")+"\n      </svg>\n    ").trim()},t.prototype.update=function(e){void 0===e&&(e={});var t=this.params,n=this.$gaugeSvgEl;if(Object.keys(e).forEach((function(n){void 0!==e[n]&&(t[n]=e[n])})),0===n.length)return this;var a=t.value,o=t.size,r=t.bgColor,i=t.borderBgColor,s=t.borderColor,l=t.borderWidth,u=t.closewise,d=t.valueText,c=t.valueTextColor,g=t.valueFontSize,f=t.valueFontWeight,h=t.labelText,p=t.labelTextColor,v=t.labelFontSize,x=t.labelFontWeight,m=this.calcBorderLength(),b=Math.max(Math.min(a,1),0),y=this.calcRadius(),k="semicircle"===t.type,w={width:o+"px",height:(k?o/2:o)+"px",viewBox:"0 0 "+o+" "+(k?o/2:o)};if(Object.keys(w).forEach((function(e){n.attr(e,w[e])})),k){var C={d:"M"+(o-l/2)+","+o/2+" a1,1 0 0,0 -"+(o-l)+",0",stroke:i,"stroke-width":l,fill:r||"none"},M={d:"M"+(o-l/2)+","+o/2+" a1,1 0 0,0 -"+(o-l)+",0",stroke:s,"stroke-width":l,"stroke-dasharray":m/2,"stroke-dashoffset":m/2*(u?-1:1)*(1+b),fill:i?"none":r||"none"};Object.keys(C).forEach((function(e){n.find(".gauge-back-semi").attr(e,C[e])})),Object.keys(M).forEach((function(e){n.find(".gauge-front-semi").attr(e,M[e])}))}else{var z={stroke:i,"stroke-width":l,fill:r||"none",cx:o/2,cy:o/2,r:y},G={transform:"rotate(-90 "+o/2+" "+o/2+")",stroke:s,"stroke-width":l,"stroke-dasharray":m,"stroke-dashoffset":(u?-1:1)*m*(1-b),fill:i?"none":r||"none",cx:o/2,cy:o/2,r:y};Object.keys(z).forEach((function(e){n.find(".gauge-back-circle").attr(e,z[e])})),Object.keys(G).forEach((function(e){n.find(".gauge-front-circle").attr(e,G[e])}))}if(d){n.find(".gauge-value-text").length||n.append('<text class="gauge-value-text"></text>');var T={x:"50%",y:k?"100%":"50%","font-weight":f,"font-size":g,fill:c,dy:k?h?-v-15:-5:0,"text-anchor":"middle","dominant-baseline":!k&&"middle"};Object.keys(T).forEach((function(e){n.find(".gauge-value-text").attr(e,T[e])})),n.find(".gauge-value-text").text(d)}else n.find(".gauge-value-text").remove();if(h){n.find(".gauge-label-text").length||n.append('<text class="gauge-label-text"></text>');var E={x:"50%",y:k?"100%":"50%","font-weight":x,"font-size":v,fill:p,dy:k?-5:d?g/2+10:0,"text-anchor":"middle","dominant-baseline":!k&&"middle"};Object.keys(E).forEach((function(e){n.find(".gauge-label-text").attr(e,E[e])})),n.find(".gauge-label-text").text(h)}else n.find(".gauge-label-text").remove();return this},t.prototype.init=function(){var e=n(this.render()).eq(0);return e.f7Gauge=this,a.extend(this,{$gaugeSvgEl:e,gaugeSvgEl:e&&e[0]}),this.$el.append(e),this},t.prototype.destroy=function(){this.$el&&!this.destroyed&&(this.$el.trigger("gauge:beforedestroy"),this.emit("local::beforeDestroy gaugeBeforeDestroy",this),this.$gaugeSvgEl.remove(),delete this.$el[0].f7Gauge,a.deleteProps(this),this.destroyed=!0)},t}(o)),s={name:"gauge",static:{Gauge:i},create:function(){var e=this;e.gauge=r({defaultSelector:".gauge",constructor:i,app:e,domProp:"f7Gauge"}),e.gauge.update=function(t,a){if(0!==n(t).length){var o=e.gauge.get(t);if(o)return o.update(a),o}}},params:{gauge:{el:null,type:"circle",value:0,size:200,bgColor:"transparent",borderBgColor:"#eeeeee",borderColor:"#000000",borderWidth:10,closewise:!1,valueText:null,valueTextColor:"#000000",valueFontSize:31,valueFontWeight:500,labelText:null,labelTextColor:"#888888",labelFontSize:14,labelFontWeight:400}},on:{tabMounted:function(e){var t=this;n(e).find(".gauge-init").each((function(e,o){t.gauge.create(a.extend({el:o},n(o).dataset()||{}))}))},tabBeforeRemove:function(e){n(e).find(".gauge-init").each((function(e,t){t.f7Gauge&&t.f7Gauge.destroy()}))},pageInit:function(e){var t=this;e.$el.find(".gauge-init").each((function(e,o){t.gauge.create(a.extend({el:o},n(o).dataset()||{}))}))},pageBeforeRemove:function(e){e.$el.find(".gauge-init").each((function(e,t){t.f7Gauge&&t.f7Gauge.destroy()}))}},vnode:{"gauge-init":{insert:function(e){var t=e.elm;this.gauge.create(a.extend({el:t},n(t).dataset()||{}))},destroy:function(e){var t=e.elm;t.f7Gauge&&t.f7Gauge.destroy()}}}};if(t){if(e.prototype.modules&&e.prototype.modules[s.name])return;e.use(s),e.instance&&(e.instance.useModuleParams(s,e.instance.params),e.instance.useModule(s))}return s}(Framework7, typeof Framework7AutoInstallComponent === 'undefined' ? undefined : Framework7AutoInstallComponent))
